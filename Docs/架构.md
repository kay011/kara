# 架构


每个线程只有一个eventloop
每个eventloop有一个epoll对象，每个epoll对象拥有一个定时器堆，更改定时器堆不需要加锁
每个channel只对应一个eventloop，所以线程安全，不需要加锁
但是一个eventloop可以有多个Channel，是由poller返回的
那个Channel的owner class只是为了注册上相应的回调。
其实eventloop里只有channel，不关心channel里注册的事件回调是什么。